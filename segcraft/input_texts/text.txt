# SegCraft — контент для MVP и презентации
# Версия: 1.0
# Язык: RU

[PROJECT_META]
name=SegCraft
tagline=AI-редактор вариаций рекламных текстов под сегменты аудитории
one_liner=Из одного базового оффера — пакет готовых вариаций для 5–7 сегментов с триггерами, CTA, risk-метками и экспортом в таблицу.

[POSITIONING]
what_is=Не чат-бот. Конвейер: фиксированный формат результата + встроенные ограничения + библиотека сегментов + risk-метки + экспорт в рабочие артефакты.
who_for=Маркетологи, редакторы, SMM-специалисты, дизайнеры, менеджеры кампаний.
why_now=Повторяющиеся операции в маркетинге (вариации, адаптации, согласования) хорошо ускоряются LLM при сохранении human-in-the-loop.

[AS_IS]
pain_1=Один оффер нужно адаптировать под разные сегменты и форматы — вручную, долго, много итераций.
pain_2=Качество и тон зависят от конкретного человека и времени; варианты часто слишком похожи или “мимо сегмента”.
pain_3=Риски комплаенса/обещаний и превышения лимитов символов обнаруживаются поздно — на согласовании.
today_time=Первый пакет вариаций: 60–120 минут. Итерации: 2–3 круга.

[TO_BE]
future_1=Вводим базовый текст + выбираем сегменты + формат + ограничения → получаем матрицу вариаций за 2–3 минуты.
future_2=Каждый сегмент получает свой триггер, угол подачи и CTA; система подсвечивает риски и соблюдает лимиты.
future_3=Результат сразу экспортируется в CSV/JSON и уходит в работу (в документ/таск/таблицу).

[PILOT_GOAL]
goal=Сократить время подготовки “первого пакета” вариаций минимум в 4 раза и снизить число итераций до “готово к тесту”.
scope=Только текстовые креативы (заголовок+текст). Без интеграций с БД/внутренними системами.
success_metrics_1=Median time-to-first-pack (минуты) — до/после.
success_metrics_2=Сколько вариантов “готово к тесту” без переписывания (доля).
success_metrics_3=Число итераций правок до финала.
success_metrics_4=Оценка полезности от пользователей (короткий опрос).

[DEFAULT_SEGMENTS]
# Формат: один сегмент = блок SEGMENT, поля key=value, списки через ';'
SEGMENT
id=smb_beginner
name=Новичок в рекламе (малый бизнес)
who=Владелец/маркетолог малого бизнеса, запускает рекламу сам
job=Быстро получить первых клиентов без сложных настроек
pains=Нет времени разбираться;Страх “слить бюджет”;Не понимает термины
triggers=Простота;Быстрый первый результат;Поддержка/шаблоны
taboos=Сложный жаргон;Гарантии 100%;Агрессивные сравнения
tone_hint=Простыми словами, спокойно, уверенно
cta_style=Мягкий: “Попробовать”, “Посмотреть пример”
END

SEGMENT
id=perf_pro
name=Профи-маркетолог (performance)
who=Специалист, оптимизирует CPA/ROAS, работает с гипотезами и тестами
job=Быстро нагенерить качественные вариации под A/B и сегменты, не теряя смысл
pains=Мало времени на креативы;Нужны разные углы;Нужно соблюдать лимиты и требования площадок
triggers=Контроль и измеримость;Новые углы;Скорость тестов
taboos=Вода и общие слова;Непроверяемые обещания;Слишком “маркетинговый” пафос
tone_hint=Конкретно, деловым языком, без лишних эмоций
cta_style=Прямой: “Запустить тест”, “Сравнить варианты”
END

SEGMENT
id=price_sensitive
name=Цена-чувствительные
who=Сравнивает цены, ищет выгоду, легко уходит к конкурентам
job=Понять ценность и выгоду без риска переплаты
pains=Боится скрытых условий;Сомневается в ценности;Не хочет переплачивать
triggers=Экономия;Прозрачность;Понятные условия
taboos=“Самый лучший”;Скрытые условия;Давление “купи срочно”
tone_hint=Рационально и прозрачно
cta_style=“Посмотреть условия”, “Проверить стоимость”
END

SEGMENT
id=premium_brand
name=Премиум / качество и бренд
who=Ценит качество, сервис, репутацию, не гонится за скидкой
job=Выбрать решение “без компромиссов”
pains=Боитcя низкого качества;Не хочет тратить время на хаос;Важно доверие
triggers=Надежность;Сервис;Репутация/качество
taboos=Слишком “дёшево”;Агрессивные скидки;Сленг
tone_hint=Сдержанно, уверенно, аккуратно
cta_style=“Узнать подробнее”, “Запросить консультацию”
END

SEGMENT
id=ecom_owner
name=E-commerce владелец (магазин)
who=Владелец интернет-магазина/маркетолог магазина
job=Увеличить продажи и окупаемость рекламы
pains=Дорогие клики;Низкая конверсия;Сложно масштабировать
triggers=Окупаемость;Рост заказов;Автоматизация рутины
taboos=Непроверяемые обещания;Слишком общие слова;Отсутствие конкретики
tone_hint=Практично и по делу
cta_style=“Увеличить продажи”, “Посмотреть сценарий”
END

SEGMENT
id=local_offline
name=Локальный офлайн бизнес (услуги рядом)
who=Салон/клиника/сервис/кафе; важны заявки “рядом”
job=Привести клиентов из своего района
pains=Мало заявок;Сложно попасть в локальную аудиторию;Нет времени
triggers=Рядом;Быстро записаться;Понятное предложение
taboos=Сложные термины;Длинные тексты;Слишком общие обещания
tone_hint=Коротко и понятно
cta_style=“Записаться”, “Узнать свободные слоты”
END

SEGMENT
id=skeptic_retry
name=Скептик (уже пробовал, не сработало)
who=Пробовал рекламу/сервисы, разочаровался
job=Понять, почему сейчас будет иначе
pains=Низкое доверие;Боится повторить ошибку;Сомневается в эффективности
triggers=Контроль;Понятный план;Минимальный риск
taboos=“Гарантируем результат”;Давление;Слишком оптимистичные обещания
tone_hint=Честно, с признанием прошлого опыта, с конкретным планом
cta_style=“Разобрать ситуацию”, “Начать с малого”
END

[AD_FORMATS]
# Формат: FORMAT блок, key=value
FORMAT
id=yadirect_text
name=Яндекс Директ (текстовое объявление)
headline_max=56
body_max=81
notes=Коротко, конкретно, без “воды”. Важно: УТП + действие.
END

FORMAT
id=yabusiness_desc
name=Яндекс Бизнес (описание)
headline_max=60
body_max=200
notes=Чуть больше контекста, можно добавить “как работает” и “для кого”.
END

FORMAT
id=smm_post
name=SMM пост (универсальный)
headline_max=80
body_max=700
notes=Можно раскрыть выгоды, но держать структуру: хук → ценность → CTA.
END

FORMAT
id=unlimited_draft
name=Черновик без лимитов
headline_max=999
body_max=5000
notes=Для первого прохода, потом ужимаем под формат.
END

[CONSTRAINTS_LIBRARY]
# Можно подставлять как дефолтные запреты в UI (пример)
c1=Не обещать гарантированный результат (“100%”, “гарантируем”, “точно”).
c2=Не использовать превосходные степени без доказательств (“лучший”, “№1”).
c3=Не сравнивать напрямую с конкурентами.
c4=Не выдумывать факты, цифры, сроки и условия — только из ввода.
c5=Если данных не хватает — задать уточняющие вопросы.

[SAMPLE_INPUT_1]
title=Сценарий 1: Директ, малый бизнес, запуск рекламы
base_text=Запускайте рекламу для вашего бизнеса быстро и без сложных настроек. Поможем выбрать цель, настроить объявления и запустить первые показы.
product_context=Сервис для предпринимателей: быстрый старт рекламы, подсказки по настройке, шаблоны объявлений, поддержка.
selected_segments=smb_beginner;price_sensitive;local_offline;skeptic_retry
tone=neutral
format_id=yadirect_text
variants_per_segment=2
variability_level=medium
constraints=Не обещать гарантированный результат;Не использовать “лучший/№1”;Не писать про конкурентов;Не выдумывать цифры/скидки;Если не хватает данных — спросить

[SAMPLE_INPUT_2]
title=Сценарий 2: Для профи, быстрые тесты креативов
base_text=Соберите пакет вариаций рекламных текстов под сегменты аудитории за минуты: углы подачи, триггеры, CTA — всё в одном месте и готово к A/B тесту.
product_context=Инструмент для маркетологов: генерация вариаций, контроль формата (лимиты), подсветка рисков (комплаенс), экспорт в таблицу.
selected_segments=perf_pro;ecom_owner;premium_brand;price_sensitive;skeptic_retry
tone=formal
format_id=yabusiness_desc
variants_per_segment=2
variability_level=bold
constraints=Не обещать рост метрик;Не выдумывать результаты;Писать конкретно, без воды;Соблюдать лимиты формата

[OUTPUT_EXPECTATIONS]
matrix_columns=segment_name;trigger;angle;headline;body;cta;risk_flags;char_count
must_have_1=Для каждого сегмента: свой trigger и angle (не одинаковые).
must_have_2=Считать символы и укладываться в лимиты формата; если не укладывается — ужать.
must_have_3=Должны быть risk-метки хотя бы в 1–2 местах (реалистично), но не “везде”.
must_have_4=Добавить 2–4 уточняющих вопроса, если ввод недостаточно конкретен.

[EXEC_SUMMARY_TEMPLATES]
for_marketer=Мы взяли ваш базовый текст и собрали пакет вариаций под выбранные сегменты: для каждого сегмента — свой триггер, угол подачи, 2 варианта текста и CTA. Результат можно сразу выгрузить в таблицу и выбрать 1–2 варианта на тест.
for_manager_non_tech=Инструмент сокращает время подготовки креативов: вместо ручного переписывания под разные аудитории за часы мы получаем структурированный пакет вариантов за минуты. Это ускоряет запуск тестов и снижает число итераций согласования.

[DEMO_SCRIPT]
step_1=Вставить base_text из SAMPLE_INPUT_1
step_2=Выбрать сегменты: smb_beginner, price_sensitive, local_offline, skeptic_retry
step_3=Выбрать формат: Яндекс Директ (headline 56 / body 81)
step_4=Указать запреты (constraints) и тон
step_5=Нажать “Сгенерировать пакет”
step_6=Показать матрицу: сегмент → trigger → headline/body → CTA → risk-метки → символы
step_7=Показать блок “Чем отличаются варианты”
step_8=Нажать экспорт CSV и показать, что это “готово к работе”

[SLIDES]
# Формат: SLIDE n, затем title=, bullets= (разделяй буллеты через ' | '), notes=
SLIDE 1
title=SegCraft
bullets=AI-редактор вариаций под сегменты аудитории | Из одного оффера — пакет текстов для тестов за минуты
notes=Открываю с обещанием ценности: ускоряем рутину и повышаем скорость тестов.

SLIDE 2
title=Проблема (As-Is)
bullets=Один оффер → десятки вариаций вручную | 60–120 минут на первый пакет + итерации | Риски: тон, запреты, лимиты символов
notes=Подчеркнуть повторяемость операции и цену итераций согласований.

SLIDE 3
title=Почему это хороший пилот
bullets=Повторяющаяся операция у многих команд | LLM хорошо делает вариативность и переформулировки | Человек остаётся финальным редактором
notes=Не “заменяем людей”, а ускоряем черновик и структурируем результат.

SLIDE 4
title=Цель пилота
bullets=Сократить time-to-first-pack в 4 раза | Снизить число итераций до “готово к тесту” | Дать структурированный артефакт для команды
notes=Назвать измеримые метрики.

SLIDE 5
title=Как работает (To-Be)
bullets=Ввод: оффер + сегменты + формат + запреты | LLM: генерирует варианты и считает лимиты | Вывод: матрица + risk-метки + экспорт
notes=Показать, что это “конвейер”, а не чат.

SLIDE 6
title=Почему это не просто чат-бот
bullets=Фиксированный формат результата | Встроенные лимиты и запреты | Библиотека сегментов (шаблоны) | Risk-метки и экспорт в CSV/JSON
notes=Это ключевая отстройка: повторяемость и встраивание в процесс.

SLIDE 7
title=Что в прототипе
bullets=Выбор сегментов чекбоксами | Форматы: Директ/Бизнес/SMM | Таблица вариаций + различия | Экспорт и mock mode
notes=Подчеркнуть “готов к демо” и работает без ключа.

SLIDE 8
title=Демо за 3 минуты
bullets=Вставляю оффер | Выбираю сегменты и формат | Получаю матрицу | Экспортирую в CSV
notes=Показать 1 кейс целиком без углубления в детали LLM.

SLIDE 9
title=План пилота (2 недели)
bullets=Неделя 1: 10 задач из одной команды | Неделя 2: ещё 1 команда/канал | Метрики: время, итерации, готовность к тесту
notes=Это выглядит как реальная работа стажёра: пилоты и измеримость.

SLIDE 10
title=Риски и контроль качества
bullets=Галлюцинации → не выдумывать факты + вопросы | Комплаенс → risk-метки + запреты | Лимиты → авто-ужатие + подсчёт символов
notes=Показать ответственность и практичность.

SLIDE 11
title=Что добавить для прод
bullets=RAG по бренд-гайду и политикам | Policy-checker для текстов | Интеграции: док/трекер/таблица | Feedback loop по принятию вариантов
notes=Показать roadmap без “перенаворота”.

SLIDE 12
title=Итог
bullets=Ускоряем рутину вариаций | Стандартизируем качество и формат | Быстрее запускаем тесты и учимся на результатах
notes=Закрываю ценностью и готовностью к пилоту.

[SAMPLE_OUTPUT_1_JSON]
{
  "version": "1.0",
  "input_echo": {
    "base_text": "Запускайте рекламу для вашего бизнеса быстро и без сложных настроек. Поможем выбрать цель, настроить объявления и запустить первые показы.",
    "tone": "neutral",
    "format_id": "yadirect_text",
    "variants_per_segment": 2,
    "constraints": [
      "Не обещать гарантированный результат",
      "Не использовать \"лучший/№1\"",
      "Не писать про конкурентов",
      "Не выдумывать цифры/скидки",
      "Если не хватает данных — спросить"
    ],
    "assumptions": [
      "У оффера есть базовая поддержка запуска",
      "Условия и цены нужно уточнить перед запуском теста"
    ]
  },
  "questions": [
    {
      "q": "Есть ли минимальный бюджет запуска и как он считается?",
      "why": "Цена-чувствительным и скептикам нужна прозрачность условий.",
      "priority": "P0"
    },
    {
      "q": "Какие категории бизнеса сейчас в приоритете для запуска?",
      "why": "Позволит сузить формулировки под локальный спрос.",
      "priority": "P1"
    }
  ],
  "segments": [
    {
      "segment_id": "smb_beginner",
      "segment_name": "Новичок в рекламе (малый бизнес)",
      "core_insight": "Нужен простой старт без сложных терминов и страха ошибки.",
      "trigger": "Простой запуск с подсказками",
      "angle": "Снять тревожность и дать понятный первый шаг",
      "copies": [
        {
          "headline": "Запустите рекламу без сложных настроек",
          "body": "Пошагово настроим кампанию и поможем выйти на первые показы без лишней суеты.",
          "cta": "Попробовать старт",
          "rationale": "Упор на простоту, поддержку и первый результат без обещаний гарантий.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        },
        {
          "headline": "Первые показы с понятным планом запуска",
          "body": "Выбираете цель, получаете шаблоны и быстро собираете рабочее объявление под задачу.",
          "cta": "Посмотреть пример",
          "rationale": "Формулировка про понятный процесс снижает порог входа для новичка.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        }
      ],
      "differences_note": "Вариант 1 делает акцент на спокойствии, вариант 2 — на структуре и шаблонах."
    },
    {
      "segment_id": "price_sensitive",
      "segment_name": "Цена-чувствительные",
      "core_insight": "Важно не переплатить и понимать, за что платишь.",
      "trigger": "Прозрачные условия",
      "angle": "Рациональная выгода без давления",
      "copies": [
        {
          "headline": "Запуск рекламы с понятными условиями",
          "body": "Настраивайте кампанию по шагам и заранее понимайте, какие действия влияют на результат.",
          "cta": "Проверить условия",
          "rationale": "Снижаем тревогу о скрытых расходах, не обещаем конкретный рост.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": [
            {
              "type": "missing_proof",
              "note": "Фраза про влияние действий требует опоры на кейс или справку.",
              "suggest_fix": "Добавить ссылку на справку или убрать причинно-следственное обещание."
            }
          ]
        },
        {
          "headline": "Контролируйте запуск и расходы с первого дня",
          "body": "Соберите объявление под задачу и отслеживайте шаги без сложной терминологии.",
          "cta": "Посмотреть как это работает",
          "rationale": "Подчёркиваем контроль и прозрачность как ключевой триггер.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        }
      ],
      "differences_note": "Первый вариант про прозрачность условий, второй — про контроль процесса."
    },
    {
      "segment_id": "local_offline",
      "segment_name": "Локальный офлайн бизнес (услуги рядом)",
      "core_insight": "Нужен поток заявок из ближайшей аудитории, а не общий охват.",
      "trigger": "Клиенты рядом",
      "angle": "Быстрая заявка из своего района",
      "copies": [
        {
          "headline": "Привлекайте клиентов рядом с вашей точкой",
          "body": "Настройте объявление под ваш район и помогите клиенту записаться в удобное время.",
          "cta": "Узнать свободные слоты",
          "rationale": "Локальный фокус и понятный следующий шаг для услуги.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        },
        {
          "headline": "Локальная реклама для услуг без перегруза",
          "body": "Запускайте кампанию с подсказками и получайте заявки от аудитории рядом.",
          "cta": "Записаться",
          "rationale": "Короткая и практичная подача для малого локального бизнеса.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        }
      ],
      "differences_note": "Вариант 1 про запись и гео, вариант 2 про простой старт локальной рекламы."
    },
    {
      "segment_id": "skeptic_retry",
      "segment_name": "Скептик (уже пробовал, не сработало)",
      "core_insight": "Нужны честные ожидания и управляемый старт без громких обещаний.",
      "trigger": "Понятный план с контролем",
      "angle": "Показать, чем новый подход отличается от прошлого опыта",
      "copies": [
        {
          "headline": "Запускайтесь снова, но с контролем каждого шага",
          "body": "Начните с малого, проверьте гипотезу и принимайте решения по фактам, а не по обещаниям.",
          "cta": "Разобрать ситуацию",
          "rationale": "Убираем завышенные ожидания, предлагаем безопасный формат повторного старта.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        },
        {
          "headline": "Проверяйте идеи на малом объёме без риска",
          "body": "Соберите понятный тестовый запуск и оцените, что реально работает для вашей ниши.",
          "cta": "Начать с малого",
          "rationale": "Фокус на минимальном риске и доказательном подходе.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": [
            {
              "type": "vague_offer",
              "note": "Не указано, что именно включает тестовый запуск.",
              "suggest_fix": "Добавить 1-2 конкретных элемента запуска: шаблон, подсказки, отчёт."
            }
          ]
        }
      ],
      "differences_note": "Первый вариант про контроль шагов, второй — про безопасный тест без завышенных ожиданий."
    }
  ],
  "global_risks": [
    {
      "risk": "Недостаточная конкретика оффера",
      "impact": "Снижение доверия и повторные правки перед запуском.",
      "mitigation": "Добавить фактические условия и рамки применения сервиса."
    },
    {
      "risk": "Комплаенс-риски обещаний",
      "impact": "Тексты могут быть отклонены на согласовании.",
      "mitigation": "Оставлять проверяемые формулировки и избегать гарантий."
    }
  ],
  "export_hints": {
    "how_to_use": [
      "Выберите 1 вариант на сегмент как базу для теста.",
      "Проверьте блок risk_flags перед запуском.",
      "Экспортируйте CSV в таблицу задач команды."
    ],
    "ab_test_suggestions": [
      "Тестируйте сначала разный angle при одинаковом CTA.",
      "После первого прогона сравните CTA внутри лучшего сегмента.",
      "Оставьте контрольную группу с текущим текстом."
    ]
  },
  "exec_summary": {
    "for_marketer": "Подготовлен пакет под 4 сегмента: у каждого свой триггер, 2 варианта текста и CTA в лимитах Директа. Отдельно подсвечены формулировки с рисками и что поправить до запуска теста.",
    "for_non_tech_manager": "Вместо ручной адаптации одного оффера под каждую аудиторию команда получает готовую матрицу вариантов и быстрее переходит к тестам. Рискованные места отмечены заранее, что снижает число циклов согласования."
  }
}

[SAMPLE_OUTPUT_2_JSON]
{
  "version": "1.0",
  "input_echo": {
    "base_text": "Соберите пакет вариаций рекламных текстов под сегменты аудитории за минуты: углы подачи, триггеры, CTA — всё в одном месте и готово к A/B тесту.",
    "tone": "formal",
    "format_id": "yabusiness_desc",
    "variants_per_segment": 2,
    "constraints": [
      "Не обещать рост метрик",
      "Не выдумывать результаты",
      "Писать конкретно, без воды",
      "Соблюдать лимиты формата"
    ],
    "assumptions": [
      "Инструмент уже интегрирован в рабочий процесс команды",
      "Пользователь сам запускает тесты после отбора вариантов"
    ]
  },
  "questions": [
    {
      "q": "Какие KPI критичны в вашем цикле (CPA, CR, ROAS)?",
      "why": "Поможет сделать углы подачи ближе к реальным приоритетам performance-команды.",
      "priority": "P0"
    },
    {
      "q": "В каких каналах вы запускаете тексты в первую очередь?",
      "why": "Нужно уточнить формат и длину сообщений под канал.",
      "priority": "P1"
    }
  ],
  "segments": [
    {
      "segment_id": "perf_pro",
      "segment_name": "Профи-маркетолог (performance)",
      "core_insight": "Важны скорость генерации гипотез и контролируемый эксперимент.",
      "trigger": "Быстрый A/B цикл",
      "angle": "Операционный выигрыш и дисциплина тестов",
      "copies": [
        {
          "headline": "Собирайте гипотезы для A/B теста за минуты",
          "body": "Инструмент формирует варианты по сегментам, считает лимиты и сразу отдаёт матрицу для запуска проверяемых гипотез.",
          "cta": "Запустить тест",
          "rationale": "Подача через скорость и управляемость экспериментов.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        },
        {
          "headline": "Контролируйте вариативность без потери смысла",
          "body": "Создавайте несколько углов подачи для одной гипотезы, фиксируйте риск-метки и ускоряйте цикл подготовки креативов.",
          "cta": "Сравнить варианты",
          "rationale": "Акцент на качестве вариативности и контроле рисков.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        }
      ],
      "differences_note": "Первый вариант про скорость цикла, второй — про контроль качества и рисков."
    },
    {
      "segment_id": "ecom_owner",
      "segment_name": "E-commerce владелец (магазин)",
      "core_insight": "Нужно быстро получать рабочие тексты и масштабировать тестирование ассортимента.",
      "trigger": "Операционная эффективность",
      "angle": "Меньше рутины, больше проверок гипотез",
      "copies": [
        {
          "headline": "Готовьте тексты под категории без ручной рутины",
          "body": "Собирайте вариации по сегментам и быстро формируйте наборы объявлений для теста разных товарных направлений.",
          "cta": "Посмотреть сценарий",
          "rationale": "Фокус на масштабировании каталога и экономии времени команды.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        },
        {
          "headline": "Ускорьте подготовку креативов для ecommerce",
          "body": "Система помогает структурировать angle, CTA и риски, чтобы команда быстрее отбирала тексты перед запуском кампаний.",
          "cta": "Увеличить скорость запуска",
          "rationale": "Подчёркиваем управляемость и прозрачный отбор вариантов.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        }
      ],
      "differences_note": "Первый вариант про масштаб категорий, второй — про процесс отбора креативов."
    },
    {
      "segment_id": "premium_brand",
      "segment_name": "Премиум / качество и бренд",
      "core_insight": "Важно удерживать бренд-тон и не скатываться в агрессивный перформанс-язык.",
      "trigger": "Контроль качества коммуникации",
      "angle": "Скорость без потери бренда",
      "copies": [
        {
          "headline": "Соблюдайте бренд-тон в каждом варианте",
          "body": "Формируйте сегментные тексты в едином стиле и проверяйте риски формулировок до передачи материалов на согласование.",
          "cta": "Запросить демонстрацию",
          "rationale": "Фокус на согласованности бренда и снижении рисков правок.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        },
        {
          "headline": "Генерируйте вариации аккуратно и последовательно",
          "body": "Используйте единый процесс подготовки текстов: сегменты, ограничения, risk-метки и готовый экспорт для команды.",
          "cta": "Узнать подробнее",
          "rationale": "Подчёркиваем дисциплину и стабильное качество результата.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": [
            {
              "type": "compliance_sensitive",
              "note": "Фраза про \"снижение рисков\" может восприниматься как гарантия, если контекст юридически чувствителен.",
              "suggest_fix": "Добавить формулировку \"помогает снизить вероятность\" вместо гарантии."
            }
          ]
        }
      ],
      "differences_note": "Первый вариант про бренд-контроль, второй — про повторяемый процесс."
    },
    {
      "segment_id": "price_sensitive",
      "segment_name": "Цена-чувствительные",
      "core_insight": "Важно видеть прикладную пользу и прозрачность, а не общие обещания.",
      "trigger": "Понятная ценность",
      "angle": "Рациональная эффективность рабочего процесса",
      "copies": [
        {
          "headline": "Снижайте стоимость рутины в подготовке текстов",
          "body": "Команда быстрее получает рабочие варианты и тратит меньше времени на повторное переписывание под сегменты.",
          "cta": "Проверить подход",
          "rationale": "Экономия времени как эквивалент экономии затрат.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        },
        {
          "headline": "Прозрачный процесс создания сегментных вариаций",
          "body": "Все шаги собраны в одной структуре: ввод, генерация, risk-метки и экспорт для быстрой командной проверки.",
          "cta": "Посмотреть процесс",
          "rationale": "Упор на понятность и контроль каждого шага.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        }
      ],
      "differences_note": "Первый вариант про экономию времени, второй — про прозрачность процесса."
    },
    {
      "segment_id": "skeptic_retry",
      "segment_name": "Скептик (уже пробовал, не сработало)",
      "core_insight": "Нужно доказать практичность через управляемый пилот без завышенных ожиданий.",
      "trigger": "Пилот с измеримыми шагами",
      "angle": "Минимальный риск внедрения",
      "copies": [
        {
          "headline": "Запустите пилот без больших изменений процесса",
          "body": "Проверьте инструмент на ограниченном наборе задач и оцените скорость подготовки текстов до масштабирования.",
          "cta": "Начать пилот",
          "rationale": "Предлагаем мягкий вход с верификацией пользы.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": []
        },
        {
          "headline": "Сравните новый процесс с текущим на фактах",
          "body": "Зафиксируйте время до первого пакета, число итераций и долю вариантов, готовых к тесту без доработки.",
          "cta": "Получить шаблон оценки",
          "rationale": "Акцент на измеримости и прозрачном сравнении.",
          "char_count": { "headline": 0, "body": 0 },
          "risk_flags": [
            {
              "type": "forbidden_claims",
              "note": "Слово \"без доработки\" может звучать как абсолют.",
              "suggest_fix": "Смягчить: \"с минимальной доработкой\"."
            }
          ]
        }
      ],
      "differences_note": "Первый вариант про безопасный пилот, второй — про метрики сравнения до/после."
    }
  ],
  "global_risks": [
    {
      "risk": "Переоценка возможностей генерации",
      "impact": "Команда может ожидать fully automatic качество без редактора.",
      "mitigation": "Фиксировать human-in-the-loop и этап финальной вычитки."
    },
    {
      "risk": "Недостаточно конкретные входные данные",
      "impact": "Получаются общие тексты и дополнительные итерации.",
      "mitigation": "Собирать уточняющие поля о продукте, KPI и ограничениях перед генерацией."
    }
  ],
  "export_hints": {
    "how_to_use": [
      "Отберите по 1-2 варианта на сегмент для первого цикла теста.",
      "Отметьте варианты с risk_flags и внесите правки до публикации.",
      "Сохраните матрицу как базу для следующего спринта экспериментов."
    ],
    "ab_test_suggestions": [
      "Сначала тестируйте разные trigger при фиксированном angle.",
      "Во второй волне варьируйте CTA у выигравшего trigger.",
      "Сравнивайте с контрольным текстом из текущего процесса."
    ]
  },
  "exec_summary": {
    "for_marketer": "Собран пакет под 5 сегментов для формата Яндекс Бизнес: на каждый сегмент есть 2 варианта, отдельный trigger, angle и CTA. Матрица готова к отбору гипотез и выгрузке в рабочую таблицу.",
    "for_non_tech_manager": "Прототип показывает, как из одного оффера быстро получать структурированный набор креативов под разные аудитории. Это снижает ручную рутину и ускоряет подготовку к A/B тестам без потери управляемости процесса."
  }
}

[SUBMISSION_ANSWERS_MD]
# Ответы на тестовое задание: SegCraft

## Задание 1. Вопросы заказчику

### 1) Понять процесс (As-Is)
- Как сейчас создаются вариации текстов под сегменты и форматы: кто участвует, где возникают очереди?
- Сколько в среднем времени уходит на первый пакет вариаций и сколько раундов правок до запуска?
- В каких каналах и форматах чаще всего запускаются тексты (Директ, Бизнес, SMM и др.)?
- Какие обязательные ограничения уже действуют: комплаенс, бренд-тон, стоп-слова?

### 2) Понять, нужен ли AI в этой задаче
- Какие части работы повторяются и могут быть стандартизированы (например, сегментные адаптации и укладка в лимиты)?
- Где критичен human-in-the-loop и финальное решение редактора/маркетолога?
- Какие ошибки AI считаются приемлемыми на этапе черновика, а какие блокируют использование?
- Какие артефакты важны на выходе: таблица, JSON, шаблон для A/B теста?

### 3) Решение «брать / не брать» (impact / feasibility / risk / adoption)
- **Impact:** какую экономию времени и сокращение итераций считаем достаточным эффектом пилота?
- **Feasibility:** хватает ли доступных входных данных, чтобы получать полезные тексты без интеграций с внутренними системами?
- **Risk:** какие юридические/репутационные риски нужно отсекать автоматически до согласования?
- **Adoption:** кто будет владельцем процесса в команде и как встроить инструмент в текущий workflow без сопротивления?

## Задание 2. Описание кейса

### Проблема, As-Is, To-Be
Маркетинговая команда регулярно адаптирует один и тот же оффер под разные сегменты и форматы. Сейчас это ручной процесс: занимает 60–120 минут на первый пакет, затем несколько кругов правок из-за тона, комплаенса и лимитов площадки.

Целевое состояние (To-Be): пользователь вводит базовый оффер, выбирает сегменты, формат и ограничения, после чего получает структурированную матрицу вариантов с триггерами, CTA, risk-метками и экспортом в CSV/JSON за 2–3 минуты.

### Как работает решение
SegCraft собирает `case bundle` из входа пользователя и библиотеки сегментов, отправляет его в LLM с требованием строгого JSON по схеме, валидирует ответ через Pydantic и отображает в UI как рабочую таблицу. Если JSON повреждён, выполняется один repair-запрос; если не удалось — включается fallback на mock output.

### Какие данные нужны
- Базовый текст/оффер.
- Контекст продукта и целевой аудитории.
- Выбранные сегменты и формат публикации.
- Ограничения и запреты (стоп-формулировки, комплаенс).
- Желаемый уровень вариативности и число вариантов на сегмент.

### Риски и ограничения
- Галлюцинации и слишком общие обещания при слабом входе.
- Нарушение запретов и комплаенса без явных ограничений.
- Превышение лимитов символов в коротких форматах.
- Риск переоценки AI как «автопилота» без редактора.

### Что в MVP
- Streamlit UI с сегментами, форматами, ограничениями и параметрами генерации.
- Structured output по схеме (segments, copies, risk flags, export hints).
- Mock mode без API-ключа.
- JSON validation + one-shot repair.
- Экспорт CSV/JSON + блоки summary/differences/questions.

### Как объяснить нетехническому заказчику
SegCraft не заменяет маркетолога. Он снимает рутинный слой: за минуты готовит несколько управляемых текстовых гипотез под разные аудитории, сразу в формате, удобном для тестов и согласования.

Практическая ценность: меньше ручного переписывания, меньше циклов правок и более быстрый запуск A/B тестов. Решение безопаснее обычного чат-бота, потому что результат строго структурирован, учитывает лимиты и помечает рискованные формулировки.

### Где может сломаться и как поддерживать
- На слабом брифе качество падает: нужен список уточняющих вопросов.
- На юридически чувствительных темах нужны усиленные правила и словари запретов.
- На длинных процессах согласования важен журнал версий и комментарии.
- Поддержка: периодический аудит сегментов, форматов и стоп-правил.

### Что делать для прод (3–5 шагов)
1. Добавить RAG по бренд-гайдам, policy и примерам согласованных текстов.
2. Внедрить автоматический policy-checker и систему приоритетов рисков.
3. Подключить интеграции (таблицы, таск-трекер, редакторские workflows).
4. Построить quality loop: данные о принятии/отклонении вариантов и ретренинг промптов.
5. Настроить ролевую модель доступа и аудит изменений для масштабирования.

### Ссылки на материалы в репозитории
- Приложение: `app.py`
- Презентация: `deck/`
- Примеры входов/выходов: `samples/`
- Сценарий демо: `submission/demo_script.md`

[PITCH_1PAGER_MD]
# SegCraft: одностраничный питч

## Проблема
Маркетинговые команды тратят много времени на повторяющуюся операцию: адаптация одного оффера под несколько сегментов и рекламных форматов. Из-за ручного процесса возникают задержки, неравномерное качество и позднее обнаружение рисков комплаенса.

## Решение
SegCraft — AI-конвейер сегментных вариаций. Пользователь задаёт базовый текст, контекст, сегменты и ограничения, а система возвращает структурированный пакет вариантов: trigger, angle, headline/body, CTA, risk-метки, счётчик символов и экспорт в CSV/JSON.

## Что уже в MVP
- Streamlit-интерфейс для сбора входа и параметров генерации.
- Библиотека сегментов и форматов объявлений.
- Structured JSON output + валидация через Pydantic.
- One-shot JSON repair и mock mode для демо без API-ключа.
- Выгрузка результатов для команды и A/B теста.

## Пилот (2 недели)
- Неделя 1: одна команда, 10 реальных задач, baseline по времени/итерациям.
- Неделя 2: второй канал или команда, повторение замеров и сравнение.
- Артефакты пилота: матрицы вариантов, лог risk-меток, отчёт по метрикам.

## Метрики успеха
- Снижение `time-to-first-pack` минимум в 4 раза.
- Снижение количества итераций до статуса «готово к тесту».
- Рост доли вариантов, принятых без существенной переписки.

## Риски и как их закрываем
- Галлюцинации: запрет на выдуманные факты + блок уточняющих вопросов.
- Комплаенс: risk_flags и явные ограничения во входе.
- Слабый бриф: требование минимально заполненных полей и чек-лист перед генерацией.

## Что дальше для production
- RAG по бренд-гайду и политикам.
- Интеграции в корпоративные инструменты (таблицы, таск-трекер).
- Feedback loop по эффективности вариантов и качеству генерации.

## Ценность
SegCraft переводит рутинную текстовую адаптацию из ручного режима в управляемый процесс: быстрее запуск тестов, предсказуемее качество и меньше потерь на согласованиях.
